[gd_scene load_steps=10 format=3]

[ext_resource type="PackedScene" path="res://scenes/boat.tscn" id="1_boat"]
[ext_resource type="Shader" path="res://shaders/water.gdshader" id="2_water"]
[ext_resource type="Script" path="res://scripts/camera_rig.gd" id="3_cam"]
[ext_resource type="Script" path="res://scripts/ocean.gd" id="4_ocean"]
[ext_resource type="PackedScene" path="res://scenes/wind_hud.tscn" id="5_hud"]

[sub_resource type="ShaderMaterial" id="ShaderMat_1"]
shader = ExtResource("2_water")
shader_parameter/deep_color = Color(0.04, 0.12, 0.36, 1)
shader_parameter/shallow_color = Color(0.15, 0.4, 0.65, 1)
shader_parameter/foam_color = Color(0.7, 0.85, 0.95, 1)
shader_parameter/wave_speed = 0.4
shader_parameter/wave_scale = 0.008
shader_parameter/foam_threshold = 0.72
shader_parameter/wind_direction = Vector2(1, 0)
shader_parameter/wind_strength = 0.5

[sub_resource type="CircleShape2D" id="Circle_1"]
radius = 90.0

[sub_resource type="CircleShape2D" id="Circle_2"]
radius = 55.0

[sub_resource type="CircleShape2D" id="Circle_3"]
radius = 35.0

[node name="Main" type="Node2D"]

[node name="Ocean" type="Polygon2D" parent="."]
z_index = -10
material = SubResource("ShaderMat_1")
color = Color(0.1, 0.3, 0.6, 1)
polygon = PackedVector2Array(-10000, -10000, 10000, -10000, 10000, 10000, -10000, 10000)
script = ExtResource("4_ocean")

[node name="Islands" type="Node2D" parent="."]

[node name="Island1" type="StaticBody2D" parent="Islands"]
position = Vector2(500, 300)

[node name="Beach" type="Polygon2D" parent="Islands/Island1"]
z_index = -1
color = Color(0.85, 0.78, 0.55, 1)
polygon = PackedVector2Array(-80, -48, -25, -90, 58, -65, 92, -14, 70, 72, -14, 88, -88, 42)

[node name="Land" type="Polygon2D" parent="Islands/Island1"]
color = Color(0.28, 0.56, 0.18, 1)
polygon = PackedVector2Array(-68, -38, -18, -78, 48, -52, 78, -8, 58, 58, -8, 72, -72, 32)

[node name="Collision" type="CollisionShape2D" parent="Islands/Island1"]
shape = SubResource("Circle_1")

[node name="Island2" type="StaticBody2D" parent="Islands"]
position = Vector2(-400, -250)

[node name="Beach" type="Polygon2D" parent="Islands/Island2"]
z_index = -1
color = Color(0.82, 0.75, 0.52, 1)
polygon = PackedVector2Array(-45, -55, 38, -48, 60, 14, 32, 55, -48, 44)

[node name="Land" type="Polygon2D" parent="Islands/Island2"]
color = Color(0.32, 0.52, 0.2, 1)
polygon = PackedVector2Array(-35, -45, 30, -40, 50, 10, 25, 45, -40, 35)

[node name="Collision" type="CollisionShape2D" parent="Islands/Island2"]
shape = SubResource("Circle_2")

[node name="Island3" type="StaticBody2D" parent="Islands"]
position = Vector2(200, -400)

[node name="Land" type="Polygon2D" parent="Islands/Island3"]
color = Color(0.5, 0.48, 0.44, 1)
polygon = PackedVector2Array(-25, -22, 12, -32, 32, -6, 18, 26, -22, 22)

[node name="Collision" type="CollisionShape2D" parent="Islands/Island3"]
shape = SubResource("Circle_3")

[node name="Boat" parent="." instance=ExtResource("1_boat")]
groups = ["boat"]

[node name="Camera" type="Camera2D" parent="."]
script = ExtResource("3_cam")
zoom = Vector2(1.5, 1.5)

[node name="HUDLayer" type="CanvasLayer" parent="."]
layer = 10

[node name="WindHUD" parent="HUDLayer" instance=ExtResource("5_hud")]
